function getCuisines(){$.ajax({type:"GET",dataType:"json",url:"https://api.delivery.com/merchant/search/delivery",data:{client_id:"Zjk0YzdhYzg3YTAyZmI1YTFkZjM0OGYyYWQwMDBmYzJl",address:$("#location").val().toLowerCase().replace(/ /g,"-").replace(/[^\w]+/g,"+")},success:function(e){cache=e,$("#cuisines").html(""),$.each(e.cuisines,function(i){$("#cuisines").append("<p class='type'>"+e.cuisines[i].name+"</p>")}),$(".type").click(function(){getDishes($(this).text())})},error:function(e){console.log("ERROR: "+e)}})}function getDishes(e){for($("#dishes").html(""),j=0;j<cache.merchants.length;j++){var i=cache.merchants[j],s=e;$.inArray(s,i.summary.cuisines)>-1&&$.each(i.summary.recommended_items,function(e,i){$("#dishes").append("<p class='dish_name' onclick='getCalories(\""+i.name+"\")'>"+i.name+"</p>")})}}function getCalories(e){$.ajax({type:"GET",dataType:"json",url:"https://api.nutritionix.com/v1_1/search/"+e,data:{fields:"item_name,item_id,brand_name,nf_calories,nf_total_fat",appId:"9921b233",appKey:"4976263e72db8d8c4b4226fa0b0fdbd9"},success:function(e){$("#calories").html(e.hits[0].fields.nf_calories)},error:function(e){console.log("ERROR: "+e)}})}$(function(){$("#submit").click(function(){getCuisines()})});